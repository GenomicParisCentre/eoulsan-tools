<tool id="trimadapt" name="trimadapt">
    	<description>QC : Trim galore, if necessary (see QC reads)</description>
    	<command interpreter="docker" dockerimage="genomicpariscentre/trim_galore:latest">
	/bin/bash -c "trim_galore --path_to_cutadapt /tmp/cutadapt-1.8.1/bin/cutadapt --quality ${quality} -e ${error} --stringency ${stringency} --length ${length} $input ;
	ls $input | sed --expression=\"s/\([^\.]*\)\(.*\)/\\1_trimmed\\2/\" | xargs -Ifullname basename fullname | xargs -Imyname mv `dirname $output`/myname $output"
	</command>
    	<inputs>
		<param name="quality" type="integer" value="20" label="Quality parameter" />
		<param name="error" type="float" value="0.1" label="Error parameter" />
		<param name="stringency" type="integer" value="1" label="Stringency parameter" />
		<param name="length" type="integer" value="20" label="Length parameter" />
        	<param format="fastq" name="input" type="data" label="Source file"/>
   	 </inputs>
    	<outputs>
        	<data format="fastq" name="output"/>
    	</outputs>
</tool>
